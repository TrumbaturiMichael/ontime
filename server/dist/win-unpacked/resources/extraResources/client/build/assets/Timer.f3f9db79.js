import{j as e,g as c,F as B,aq as E,r as v,ar as P,aj as $,A as N,m as x}from"./index.884ef809.js";import{T as w}from"./TimerDisplay.e3f8dd0e.js";import{c as b}from"./math.80e332d4.js";import{p as a}from"./index.a719180e.js";import{u as k,m as A,N as R}from"./useRuntimeStylesheet.cce38e2c.js";import{u as F}from"./utils.71c85371.js";import"./dateConfig.7f97a25b.js";import"./index.esm.36fc65dd.js";import"./useFullscreen.e5cbfcf7.js";import"./index.641207f5.js";const H="_hSeparator_l3mca_18",L="_vSpan_l3mca_26",O="_progress_l3mca_30",V="_progressCountdown_l3mca_31",Z="_progressBar_l3mca_44",l={hSeparator:H,vSpan:L,progress:O,progressCountdown:V,progressBar:Z};function y(o){const{now:r,complete:i,showElapsed:s}=o;let t=s?0:100;return r!=null&&i!=null&&(t=s?b(100-r*100/i,0,100):b(r*100/i,0,100)),e("div",{className:s?l.progress:l.progressCountdown,children:e("div",{className:l.progressBar,style:{width:`${t}%`}})})}y.propTypes={now:a.exports.number,complete:a.exports.number,showElapsed:a.exports.bool};function f(o){const{label:r,title:i,subtitle:s,presenter:t}=o;return c(B,{children:[e("div",{className:"label",children:r}),e("div",{className:"title",children:i}),e("div",{className:"presenter",children:t}),e("div",{className:"subtitle",children:s})]})}const q={showSeconds:!0,format:"hh:mm:ss a"};function D(o){const{general:r,pres:i,title:s,time:t,viewSettings:n}=o,{shouldRender:_}=k((n==null?void 0:n.overrideStyles)&&E),[S,m]=v.exports.useState(!0),[T]=P(),[j]=F(A);if(v.exports.useEffect(()=>{document.title="ontime - Timer"},[]),!_)return null;const d=T.get("progress");d==="up"?m(!0):d==="down"&&m(!1);const C=$(t.clock,q),M=i.text!==""&&i.visible,p=t.playstate!=="pause",u=Math.max(t.running,0),h={hidden:{y:500},visible:{y:0,transition:{duration:1}},exit:{y:500}},g=`stage-timer ${j?"mirror":""}`;return c("div",{className:t.finished?`${g} stage-timer--finished`:g,children:[e("div",{className:M?"message-overlay message-overlay--active":"message-overlay",children:e("div",{className:"message",children:i.text})}),e(R,{}),c("div",{className:"clock-container",children:[e("div",{className:"label",children:"Time Now"}),e("div",{className:"clock",children:C})]}),e("div",{className:"timer-container",children:t.finished?e("div",{className:"end-message",children:r.endMessage==null||r.endMessage===""?e(w,{time:t.running,isNegative:t.isNegative,hideZeroHours:!0}):r.endMessage}):e("div",{className:p?"timer":"timer--paused",children:e(w,{time:u,hideZeroHours:!0})})}),!t.finished&&e("div",{className:p?"progress-container":"progress-container progress-container--paused",children:e(y,{now:u,complete:t.durationSeconds,showElapsed:S})}),e(N,{children:s.showNow&&e(x.div,{className:"event now",variants:h,initial:"hidden",animate:"visible",exit:"exit",children:e(f,{label:"Now",title:s.titleNow,subtitle:s.subtitleNow,presenter:s.presenterNow})},"now")}),e(N,{children:s.showNext&&e(x.div,{className:"event next",variants:h,initial:"hidden",animate:"visible",exit:"exit",children:e(f,{label:"Next",title:s.titleNext,subtitle:s.subtitleNext,presenter:s.presenterNext})},"next")})]})}D.propTypes={general:a.exports.object,pres:a.exports.object,title:a.exports.object,time:a.exports.object,viewSettings:a.exports.object};export{D as default};
