import{B as P}from"./index.esm.1b6714a6.js";import{F}from"./FiArrowUpRight.a9cf0994.js";import{j as e,g as s,r as I,F as w,ai as W,ah as f,aJ as q,a1 as H}from"./index.884ef809.js";import{s as _,h as $}from"./Editor.module.45269a78.js";import{p as t}from"./index.a719180e.js";import{I as h,B as u}from"./index.esm.36fc65dd.js";import{T as p,c as m}from"./ontimeConfig.8353ce02.js";import{b as G,c as L,a as M,I as U}from"./IoTimeOutline.6384f77c.js";import{r as y}from"./index.641207f5.js";import{T as V}from"./TimerDisplay.e3f8dd0e.js";import{a as C}from"./dateConfig.7f97a25b.js";function z(a){const{clickhandler:n,active:i,disabled:l,...o}=a;return e(p,{label:"Pause timer",openDelay:m,shouldWrapChildren:l,children:e(h,{icon:e(G,{size:"24px"}),colorScheme:"orange",_hover:!l&&{bg:"orange.400"},variant:i?"solid":"outline",onClick:n,width:120,disabled:l,...o})})}z.propTypes={clickhandler:t.exports.func,active:t.exports.bool,disabled:t.exports.bool};function N(a){const{clickhandler:n,active:i,disabled:l,...o}=a;return e(p,{label:"Roll mode",openDelay:m,shouldWrapChildren:l,children:e(h,{icon:e(L,{size:"24px"}),colorScheme:"blue",variant:i?"solid":"outline",onClick:n,width:120,disabled:l,...o})})}N.propTypes={clickhandler:t.exports.func,active:t.exports.bool,disabled:t.exports.bool};function R(a){const{clickhandler:n,active:i,disabled:l,...o}=a;return e(p,{label:"Start timer",openDelay:m,shouldWrapChildren:l,children:e(h,{icon:e(M,{size:"24px"}),colorScheme:"green",variant:i?"solid":"outline",onClick:n,width:120,disabled:l,...o})})}R.propTypes={clickhandler:t.exports.func,active:t.exports.bool,disabled:t.exports.bool};const j="_hSeparator_zwdcp_18",O="_vSpan_zwdcp_26",J="_mainContainer_zwdcp_30",X="_timeContainer_zwdcp_37",K="_playbackContainer_zwdcp_38",Q="_timer_zwdcp_54",Y="_indicators_zwdcp_60",Z="_indRoll_zwdcp_69",ee="_indDelay_zwdcp_70",ne="_indNegative_zwdcp_71",te="_indRollActive_zwdcp_76",ae="_indNegativeActive_zwdcp_89",oe="_indDelayActive_zwdcp_99",le="_btn_zwdcp_103",ie="_minus_zwdcp_112",re="_start_zwdcp_118",ce="_finish_zwdcp_122",se="_roll_zwdcp_126",de="_time_zwdcp_37",pe="_tag_zwdcp_135",me="_rolltag_zwdcp_140",r={hSeparator:j,vSpan:O,mainContainer:J,timeContainer:X,playbackContainer:K,timer:Q,indicators:Y,indRoll:Z,indDelay:ee,indNegative:ne,indRollActive:te,indNegativeActive:ae,indDelayActive:oe,btn:le,minus:ie,start:re,finish:ce,roll:se,time:de,tag:pe,rolltag:me};function T(a){const{playback:n,selectedId:i,playbackControl:l,noEvents:o}=a,d=n==="roll";return s("div",{className:r.playbackContainer,children:[e(R,{active:n==="start",clickhandler:()=>l.start(),disabled:!i||d||o}),e(z,{active:n==="pause",clickhandler:()=>l.pause(),disabled:!i||d||o||n!=="start"}),e(N,{active:n==="roll",disabled:n==="roll"||o,clickhandler:()=>l.roll()})]})}T.propTypes={playback:t.exports.string,selectedId:t.exports.string,playbackControl:t.exports.shape({start:t.exports.func,pause:t.exports.func,roll:t.exports.func}).isRequired,noEvents:t.exports.bool.isRequired};var he=y.GenIcon,ue=function(n){return he({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 440a16 16 0 01-12.61-6.15c-22.86-29.27-44.07-51.86-73.32-67C335 352.88 301 345.59 256 344.23V424a16 16 0 01-27 11.57l-176-168a16 16 0 010-23.14l176-168A16 16 0 01256 88v80.36c74.14 3.41 129.38 30.91 164.35 81.87C449.32 292.44 464 350.9 464 424a16 16 0 01-16 16z"}}]})(n)},be=y.GenIcon,ve=function(n){return be({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M112 64a16 16 0 0116 16v136.43L360.77 77.11a35.13 35.13 0 0135.77-.44c12 6.8 19.46 20 19.46 34.33v290c0 14.37-7.46 27.53-19.46 34.33a35.14 35.14 0 01-35.77-.45L128 295.57V432a16 16 0 01-32 0V80a16 16 0 0116-16z"}}]})(n)},_e=y.GenIcon,ye=function(n){return _e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 64a16 16 0 00-16 16v136.43L151.23 77.11a35.13 35.13 0 00-35.77-.44C103.46 83.47 96 96.63 96 111v290c0 14.37 7.46 27.53 19.46 34.33a35.14 35.14 0 0035.77-.45L384 295.57V432a16 16 0 0032 0V80a16 16 0 00-16-16z"}}]})(n)};function v(a){const{clickHandler:n,icon:i,tooltip:l,disabled:o,...d}=a;return e(p,{label:l,openDelay:m,shouldWrapChildren:o,children:e(h,{icon:i,colorScheme:"white",variant:"outline",_hover:!o&&{bg:"#ebedf0",color:"#333"},onClick:n,width:90,disabled:o,...d})})}v.propTypes={clickHandler:t.exports.func,icon:t.exports.element,tooltip:t.exports.string,disabled:t.exports.bool};function S(a){const{clickHandler:n,disabled:i,...l}=a;return e(p,{label:"Unload event",openDelay:m,shouldWrapChildren:i,children:e(h,{icon:e(U,{size:"22px"}),colorScheme:"red",variant:"outline",onClick:n,width:90,disabled:i,...l})})}S.propTypes={clickHandler:t.exports.func,disabled:t.exports.bool};function B(a){const{playback:n,selectedId:i,playbackControl:l,noEvents:o}=a,d=n==="roll";return s("div",{className:r.playbackContainer,children:[e(v,{clickHandler:()=>l.previous(),disabled:d||o,tooltip:"Previous event",icon:e(ve,{size:"22px"})}),e(v,{clickHandler:()=>l.next(),disabled:d||o,tooltip:"Next event",icon:e(ye,{size:"22px"})}),e(v,{clickHandler:()=>l.reload(),disabled:i==null||d||o,tooltip:"Reload event",icon:e(ue,{size:"22px"})}),e(S,{clickHandler:()=>l.stop(),disabled:i==null&&!d||o})]})}B.propTypes={playback:t.exports.string,selectedId:t.exports.string,playbackControl:t.exports.shape({previous:t.exports.func,next:t.exports.func,reload:t.exports.func,stop:t.exports.func}).isRequired,noEvents:t.exports.bool.isRequired};const ke=(a,n)=>a.playback===n.playback&&a.selectedId===n.selectedId&&a.noEvents===n.noEvents,D=a=>{const{playback:n,selectedId:i,noEvents:l,playbackControl:o}=a;return s(w,{children:[e(T,{playback:n,selectedId:i,noEvents:l,playbackControl:o}),e(B,{playback:n,selectedId:i,noEvents:l,playbackControl:o})]})},xe=I.exports.memo(D,ke);D.propTypes={playback:t.exports.string,selectedId:t.exports.string,playbackControl:t.exports.object,noEvents:t.exports.bool.isRequired};const ge=(a,n)=>a.playback===n.playback&&a.selectedId===n.selectedId,b={size:"sm",width:"2em",colorScheme:"white",variant:"outline",fontSize:"12px"},A=a=>{const{playback:n,handleIncrement:i,selectedId:l}=a,o=W(),d=f(o.startedAt,!0),E=f(o.expectedFinish,!0),k=n==="roll",x=o.secondaryTimer>0&&o.current==null,c=l==null||k,g=o.current<0;return s("div",{className:r.timeContainer,children:[s("div",{className:r.indicators,children:[e(p,{label:"Roll mode active",children:e("div",{className:k?r.indRollActive:r.indRoll})}),e("div",{className:g?r.indNegativeActive:r.indNegative}),e("div",{className:r.indDelay})]}),e("div",{className:r.timer,children:e(V,{time:x?C(o.secondaryTimer):C(o.current),isNegative:g,small:!0})}),x?s("div",{className:r.roll,children:[e("span",{className:r.rolltag,children:"Roll: Countdown to start"}),e("span",{className:r.time,children:"FIX"})]}):s(w,{children:[s("div",{className:r.start,children:[e("span",{className:r.tag,children:"Started at "}),e("span",{className:r.time,children:d})]}),s("div",{className:r.finish,children:[e("span",{className:r.tag,children:"Finish at "}),e("span",{className:r.time,children:E})]})]}),s("div",{className:r.btn,children:[e(p,{label:"Remove 1 minute",openDelay:m,shouldWrapChildren:c,children:e(u,{...b,disabled:c,onClick:()=>i(-1),_hover:!c&&{bg:"#ebedf0",color:"#333"},children:"-1"})}),e(p,{label:"Add 1 minute",openDelay:m,shouldWrapChildren:c,children:e(u,{...b,disabled:c,onClick:()=>i(1),_hover:!c&&{bg:"#ebedf0",color:"#333"},children:"+1"})}),e(p,{label:"Remove 5 minutes",openDelay:m,shouldWrapChildren:c,children:e(u,{...b,disabled:c,onClick:()=>i(-5),_hover:!c&&{bg:"#ebedf0",color:"#333"},children:"-5"})}),e(p,{label:"Add 5 minutes",openDelay:m,shouldWrapChildren:c,children:e(u,{...b,disabled:c,onClick:()=>i(5),_hover:!c&&{bg:"#ebedf0",color:"#333"},children:"+5"})})]})]})},fe=I.exports.memo(A,ge);A.propTypes={playback:t.exports.string,handleIncrement:t.exports.func.isRequired,selectedId:t.exports.string};function Ce(){const{data:a,setPlayback:n}=q();return s("div",{className:r.mainContainer,children:[e(fe,{playback:a.playback,selectedId:a.selectedEventId,handleIncrement:i=>n.delay(i)}),e(xe,{playback:a.playback,selectedId:a.selectedEventId,noEvents:a.numEvents<1,playbackControl:n})]})}function Pe(){return s(P,{className:_.playback,children:[e("h1",{children:"Timer Control"}),e(F,{className:_.corner,onClick:a=>$(a,"timercontrol")}),e("div",{className:_.content,children:e(H,{children:e(Ce,{})})})]})}export{Pe as default};
