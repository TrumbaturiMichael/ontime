import{aq as M,ar as S,r as w,g as I,j as n}from"./index.884ef809.js";import{u as O}from"./utils.71c85371.js";import{u as P,m as R,N as T}from"./useRuntimeStylesheet.cce38e2c.js";import{f as A}from"./dateConfig.7f97a25b.js";import"./index.esm.36fc65dd.js";import"./useFullscreen.e5cbfcf7.js";import"./index.641207f5.js";import"./index.a719180e.js";function V(x){const{pres:m,time:a,viewSettings:l}=x,{shouldRender:$}=P((l==null?void 0:l.overrideStyles)&&M),[t]=S(),[C]=O(R);if(w.exports.useEffect(()=>{document.title="ontime - Minimal Timer"},[]),!$)return null;const e={size:1},f=t.get("key");f&&(e.keyColour=`#${f}`);const d=t.get("text");d&&(e.textColour=`#${d}`);const g=t.get("textbg");g&&(e.textBackground=`#${g}`);const u=t.get("font");u&&(e.font=u);const r=t.get("size");r!==null&&typeof r<"u"&&(Number.isNaN(Number(r))||(e.size=Number(r)));const i=t.get("alignx");i&&(i==="start"||i==="center"||i==="end")&&(e.justifyContent=i);const s=t.get("aligny");s&&(s==="start"||s==="center"||s==="end")&&(e.alignItems=s);const h=t.get("offsetx");if(h){const o=Number(h);isNaN(o)||(e.left=`${o}px`)}const v=t.get("offsety");if(v){const o=Number(v);isNaN(o)||(e.top=`${o}px`)}const b=t.get("hidenav");e.hideNav=Boolean(b);const k=t.get("hideovertime");e.hideOvertime=Boolean(k);const y=t.get("hidemessages");e.hideMessagesOverlay=Boolean(y);const j=m.text!==""&&m.visible,z=a.playstate!=="pause",c=A(a.running,!0),B=c.replace("/:/g",""),N=a.isNegative&&!(e!=null&&e.hideOvertime),p=`minimal-timer ${C?"mirror":""}`;return I("div",{className:N?`${p} minimal-timer--finished`:p,style:{backgroundColor:e.keyColour,justifyContent:e.justifyContent,alignItems:e.alignItems},"data-testid":"minimal-timer",children:[!y&&n("div",{className:j?"message-overlay message-overlay--active":"message-overlay",children:n("div",{className:"message",children:m.text})}),!(e!=null&&e.hideNav)&&n(T,{}),n("div",{className:`timer ${z?"":"timer--paused"} ${N?"timer--finished":""}`,style:{color:e.textColour,fontSize:`${89/(B.length-1)*(e.size||1)}vw`,fontFamily:e.font,top:e.top,left:e.left,backgroundColor:e.textBackground},children:a.isNegative?`-${c}`:c})]})}export{V as default};
